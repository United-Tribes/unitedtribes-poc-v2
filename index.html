<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pluribus | Cinematic Universe - Vince Gilligan</title>
    <link rel="stylesheet" href="src/styles/main.css">
    <script src="https://d3js.org/d3.v7.min.js"></script>
</head>
<body>
    <!-- Main Application Container -->
    <div class="app-container">
        <!-- Left Sidebar Navigation -->
        <aside class="left-sidebar">
            <div class="sidebar-header">
                <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%2300bcd4'%3E%3Cpath d='M12 2L2 7v10c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V7l-10-5z'/%3E%3C/svg%3E" class="app-logo" alt="Pluribus">
                <h1 class="app-title">Pluribus</h1>
            </div>

            <nav class="sidebar-nav">
                <button class="nav-item active">
                    <span class="nav-icon">üåê</span>
                    <span class="nav-label">Universe</span>
                </button>
                <button class="nav-item">
                    <span class="nav-icon">üë•</span>
                    <span class="nav-label">Characters</span>
                </button>
                <button class="nav-item">
                    <span class="nav-icon">üì∫</span>
                    <span class="nav-label">Episodes</span>
                </button>
                <button class="nav-item">
                    <span class="nav-icon">üéµ</span>
                    <span class="nav-label">Sonic Layer</span>
                </button>
                <button class="nav-item">
                    <span class="nav-icon">üîç</span>
                    <span class="nav-label">Explore</span>
                </button>
                <button class="nav-item">
                    <span class="nav-icon">üí°</span>
                    <span class="nav-label">Themes</span>
                </button>
                <button class="nav-item">
                    <span class="nav-icon">üìñ</span>
                    <span class="nav-label">Library</span>
                </button>
            </nav>

            <div class="sidebar-footer">
                <button class="footer-item">‚öôÔ∏è</button>
                <button class="footer-item">‚ùì</button>
            </div>
        </aside>

        <!-- Main Content Area -->
        <main class="main-content">
            <div class="content-header">
                <h2 class="view-title">The Gilligan Universe</h2>
            </div>

            <!-- Graph Visualization Area -->
            <div class="graph-container">
                <svg id="universe-graph"></svg>

                <!-- Graph will be rendered here -->
                <div class="graph-placeholder">
                    <div class="placeholder-content">
                        <h2>The Gilligan Universe</h2>
                        <p>Interactive network visualization loading...</p>
                    </div>
                </div>

                <!-- Hover Tooltip -->
                <div id="graph-tooltip" class="graph-tooltip">
                    <div class="tooltip-title"></div>
                    <div class="tooltip-type"></div>
                    <div class="tooltip-description"></div>
                </div>
            </div>
        </main>

        <!-- Right Sidebar - Gemini Assistant (Toggleable) -->
        <aside class="right-sidebar" id="geminiAssistant">
            <div class="assistant-header">
                <h2 class="assistant-title">Gemini Assistant</h2>
                <button class="close-assistant" id="closeAssistant">√ó</button>
            </div>

            <div class="assistant-body">
                <!-- Chat Messages -->
                <div class="chat-messages" id="chatMessages">
                    <div class="welcome-message">
                        <div class="gemini-icon">
                            <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%234285f4'%3E%3Cpath d='M12 2L2 7v10c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V7l-10-5z'/%3E%3C/svg%3E" alt="Gemini">
                        </div>
                        <p>Hi! I'm your guide to the Gilligan universe. Ask me anything about the shows, their connections, or explore the knowledge graph.</p>
                    </div>

                    <!-- Suggested Questions -->
                    <div class="suggested-questions">
                        <div class="suggestions-label">Try asking:</div>
                        <button class="suggestion-chip" data-query="What has Vince Gilligan created?">
                            What has Vince Gilligan created?
                        </button>
                        <button class="suggestion-chip" data-query="Who does Rhea Seehorn play?">
                            Who does Rhea Seehorn play?
                        </button>
                        <button class="suggestion-chip" data-query="What connects Pluribus and Better Call Saul?">
                            What connects Pluribus and Better Call Saul?
                        </button>
                        <button class="suggestion-chip" data-query="Who is the cinematographer?">
                            Who is the cinematographer?
                        </button>
                        <button class="suggestion-chip" data-query="What is the hive mind?">
                            What is the hive mind?
                        </button>
                    </div>
                </div>

                <!-- Chat Input -->
                <div class="chat-input-container">
                    <input
                        type="text"
                        class="chat-input"
                        placeholder="Type a message..."
                        id="chatInput"
                    >
                    <button class="send-button" id="sendButton">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                            <path d="M2 10L18 2L10 18L8 11L2 10Z" fill="currentColor"/>
                        </svg>
                    </button>
                </div>
            </div>
        </aside>
    </div>

    <!-- Toggle Assistant Button (when hidden) -->
    <button class="toggle-assistant" id="toggleAssistant" style="display: none;">
        <span>üí¨</span>
        <span class="toggle-label">Gemini Assistant</span>
    </button>

    <script src="src/components/query-handler.js"></script>
    <script src="src/components/graph.js"></script>
    <script src="src/components/assistant.js"></script>
    <script src="src/components/profile-view.js"></script>
    <script src="src/components/app.js"></script>
</body>
</html>
